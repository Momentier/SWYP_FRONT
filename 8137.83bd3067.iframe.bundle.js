"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[8137],{"./src/components/DetailCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>components_DetailCard});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Text=__webpack_require__("./src/components/Text.tsx"),useRecommendTravelStore=__webpack_require__("./src/store/useRecommendTravelStore.ts"),api_axiosInstance=__webpack_require__("./src/lib/api/axiosInstance.ts");var ToolTip=__webpack_require__("./src/components/ToolTip.tsx"),imagePath=__webpack_require__("./src/utils/imagePath.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const DetailCard=({title,subtitle,address,hours,rating,imageUrl,attractionData})=>{const updateAttraction=(0,useRecommendTravelStore.w1)((state=>state.updateAttraction)),[isLoading,setIsLoading]=(0,react.useState)(!1);return isLoading?(0,jsx_runtime.jsx)("div",{className:"rounded-[16px] animate-pulse bg-[#F9F9F9] mb-2 flex",children:(0,jsx_runtime.jsxs)("div",{className:"flex p-6 gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:(0,jsx_runtime.jsx)("img",{src:imagePath.vK.HANDLE_DESKTOP,alt:"icon",className:"w-6 h-6 object-contain"})}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-between gap-2 w-[456px] h-[160px]",children:[(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] rounded-[4px] w-[45%] h-[30px]"}),(0,jsx_runtime.jsx)("div",{className:"w-[55%] bg-[#EEEEEE] h-[26px] rounded-[4px]"}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[20px] rounded-[4px] mr-1.5"}),(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[70%] rounded-[4px]"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[20px] rounded-[4px] mr-1.5"}),(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[70%] rounded-[4px]"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[20px] rounded-[4px] mr-1.5"}),(0,jsx_runtime.jsx)("div",{className:"bg-[#EEEEEE] h-[20px] w-[70%] rounded-[4px]"})]})]}),(0,jsx_runtime.jsx)("div",{className:"w-[280px] h-[160px] overflow-hidden rounded-2xl",children:(0,jsx_runtime.jsx)("div",{className:"w-full h-full bg-[#EEEEEE]"})}),(0,jsx_runtime.jsx)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:(0,jsx_runtime.jsx)("img",{src:imagePath.vK.RE_REQUEST,alt:"icon",className:"w-6 h-6 object-contain cursor-pointer"})})]})}):(0,jsx_runtime.jsx)("div",{className:"flex flex-col border-2 border-transparent rounded-2xl shadow-lg bg-[#F8F8F8] w-[880px] h-[208px] hover:border-[#9A77FF] transition-colors duration-200",children:(0,jsx_runtime.jsxs)("div",{className:"flex p-6 gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:(0,jsx_runtime.jsx)(ToolTip.A,{text:"드래그해서 일정 순서를 바꿀 수 있어요!",direction:"top",children:(0,jsx_runtime.jsx)("img",{src:imagePath.vK.HANDLE_DESKTOP,alt:"handle",className:"w-6 h-6 object-contain cursor-grab"})})}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-[456px] h-[160px]",children:[(0,jsx_runtime.jsx)(Text.A,{textStyle:"heading1",className:"font-bold truncate overflow-hidden whitespace-nowrap",children:title}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"headline2",className:"text-[#9A77FF] truncate overflow-hidden whitespace-nowrap",children:subtitle}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:imagePath.vK.LOCATION,alt:"address icon",className:"w-5 h-5"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"body1",className:"text-gray-700",children:address})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:imagePath.vK.CLOCK,alt:"hours icon",className:"w-5 h-5"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"body1",className:"text-gray-700 truncate",children:hours})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("img",{src:imagePath.vK.STAR,alt:"rating icon",className:"w-5 h-5"}),(0,jsx_runtime.jsx)(Text.A,{textStyle:"body1",className:"text-gray-700",children:rating})]})]}),(0,jsx_runtime.jsx)("div",{className:"w-[280px] h-[160px] overflow-hidden rounded-2xl",children:(0,jsx_runtime.jsx)("img",{src:imageUrl&&""!==imageUrl.trim()?(imageUrl.includes("/default_img.png"),imageUrl):"https://cdn.visitkorea.or.kr/img/call?cmd=VIEW&id=5dc87836-b647-45ef-ae17-e3247f91b8b4",alt:title,className:"object-cover w-full h-full"})}),(0,jsx_runtime.jsxs)("div",{className:"w-6 h-full flex flex-col items-center gap-2",children:[(0,jsx_runtime.jsx)(ToolTip.A,{text:"비슷한 다른 장소를 추천 받을 수 있어요!",direction:"top",children:(0,jsx_runtime.jsx)("img",{src:imagePath.vK.RE_REQUEST,alt:"ReRequest icon",className:"w-6 h-6 object-contain cursor-pointer",onClick:async()=>{try{const updatedAttraction={...attractionData,name:title,address,description:subtitle,businessTime:hours,rating,coverImage:imageUrl};setIsLoading(!0);const response=await(async data=>{try{return(await api_axiosInstance.A.post("/itinerary/change/attraction",data,{loadingType:"none"})).data}catch(error){var _error_response;throw new Error((null===(_error_response=error.response)||void 0===_error_response?void 0:_error_response.data.message)||"관광지 정보를 변경하지 못했습니다.")}})(updatedAttraction);updateAttraction(attractionData,response),setIsLoading(!1)}catch(error){console.error("업데이트 실패:",error)}}})}),attractionData.previousData&&(0,jsx_runtime.jsx)(ToolTip.A,{text:"처음 추천받았던 장소로 되돌릴 수 있어요!",children:(0,jsx_runtime.jsx)("img",{src:imagePath.vK.RESET,alt:"Reset icon",className:"w-6 h-6 object-contain cursor-pointer",onClick:()=>{attractionData.previousData&&updateAttraction(attractionData,attractionData.previousData)}})})]})]})})},components_DetailCard=DetailCard;DetailCard.__docgenInfo={description:"",methods:[],displayName:"DetailCard",props:{title:{required:!0,tsType:{name:"string"},description:""},subtitle:{required:!0,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""},hours:{required:!0,tsType:{name:"string"},description:""},rating:{required:!0,tsType:{name:"number"},description:""},imageUrl:{required:!0,tsType:{name:"string"},description:""},attractionData:{required:!0,tsType:{name:"Attraction"},description:""}}}},"./src/components/Text.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Text});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");const TEXT_STYLES={display1:"text-[56px] leading-[72px] tracking-[-0.0316em]",display2:"text-[40px] leading-[52px] tracking-[-0.0282em]",title1:"text-[36px] leading-[48px] tracking-[-0.0272em]",title2:"text-[28px] leading-[38px] tracking-[-0.0236em]",title3:"text-[24px] leading-[32px] tracking-[-0.0232em]",heading1:"text-[22px] leading-[30px] tracking-[-0.0176em]",heading2:"text-[20px] leading-[28px] tracking-[-0.012em]",headline1:"text-[18px] leading-[26px] tracking-[-0.002em]",headline2:"text-[17px] leading-[24px] tracking-[0em]",body1:"text-[16px] leading-[24px] tracking-[0.0057em]",body1Reading:"text-[16px] leading-[28px] tracking-[0.0057em]",body2:"text-[15px] leading-[22px] tracking-[0.0069em]",body2Reading:"text-[15px] leading-[26px] tracking-[0.0069em]",label1:"text-[14px] leading-[20px] tracking-[0.0145em]",label1Reading:"text-[14px] leading-[22px] tracking-[0.0145em]",label2:"text-[12px] leading-[18px] tracking-[0.0156em]",caption1:"text-[12px] leading-[16px] tracking-[0.0137em]",caption2:"text-[10px] leading-[14px] tracking-[0.0137em]"};function Text({as,textStyle="body1",className="",children,...props}){const Component=as||"span";var _TEXT_STYLES_textStyle;const styleClass=null!==(_TEXT_STYLES_textStyle=TEXT_STYLES[textStyle])&&void 0!==_TEXT_STYLES_textStyle?_TEXT_STYLES_textStyle:"";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,{className:`${styleClass} ${className}`,...props,children})}Text.__docgenInfo={description:"",methods:[],displayName:"Text",props:{as:{required:!1,tsType:{name:"T"},description:""},textStyle:{required:!1,tsType:{name:"union",raw:"keyof typeof TEXT_STYLES",elements:[{name:"literal",value:"display1"},{name:"literal",value:"display2"},{name:"literal",value:"title1"},{name:"literal",value:"title2"},{name:"literal",value:"title3"},{name:"literal",value:"heading1"},{name:"literal",value:"heading2"},{name:"literal",value:"headline1"},{name:"literal",value:"headline2"},{name:"literal",value:"body1"},{name:"literal",value:"body1Reading"},{name:"literal",value:"body2"},{name:"literal",value:"body2Reading"},{name:"literal",value:"label1"},{name:"literal",value:"label1Reading"},{name:"literal",value:"label2"},{name:"literal",value:"caption1"},{name:"literal",value:"caption2"}]},description:"",defaultValue:{value:'"body1"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}}},"./src/components/ToolTip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Tooltip});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_utils_imagePath__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/imagePath.ts");function Tooltip({text,direction="bottom",children}){const iconRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),tooltipRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),[position,setPosition]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({top:0,left:0}),[visible,setVisible]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[isFlipped,setIsFlipped]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),isTop="top"===direction;return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{if(!visible||!iconRef.current||!tooltipRef.current)return;const iconRect=iconRef.current.getBoundingClientRect(),tooltipRect=tooltipRef.current.getBoundingClientRect(),main=document.querySelector("main"),mainRect=null==main?void 0:main.getBoundingClientRect();let left=iconRect.left;const top=isTop?iconRect.top-tooltipRect.height-4:iconRect.bottom+4;let flipped=!1;mainRect&&left+tooltipRect.width>mainRect.right&&(left=iconRect.right-tooltipRect.width,flipped=!0),setPosition({top,left}),setIsFlipped(flipped)}),[visible,isTop]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:iconRef,className:"inline-block",onMouseEnter:()=>setVisible(!0),onMouseLeave:()=>setVisible(!1),children}),visible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:tooltipRef,className:"fixed z-50 flex flex-col items-start",style:{top:position.top,left:position.left},children:[isTop&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-fit h-[40px] px-3 flex items-center rounded-lg bg-gradient-to-r from-[#9A77FF] to-[#4D6FFF] text-white text-xs font-semibold whitespace-nowrap",children:text}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:_utils_imagePath__WEBPACK_IMPORTED_MODULE_3__.vK.ARROW,alt:"arrow",width:24,height:8,className:"rotate-180 mt-[-2px] "+(isFlipped?"self-end":"self-start")})]}),!isTop&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:_utils_imagePath__WEBPACK_IMPORTED_MODULE_3__.vK.ARROW,alt:"arrow",width:24,height:8,className:"mb-[-2px] "+(isFlipped?"self-end":"self-start")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-fit h-[40px] px-3 flex items-center rounded-lg bg-gradient-to-r from-[#9A77FF] to-[#4D6FFF] text-white text-xs font-semibold whitespace-nowrap",children:text})]})]})]})}Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{text:{required:!0,tsType:{name:"string"},description:""},direction:{required:!1,tsType:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}]},description:"",defaultValue:{value:"'bottom'",computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/lib/api/axiosInstance.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>api_axiosInstance});var react=__webpack_require__("./node_modules/zustand/esm/react.mjs"),middleware=__webpack_require__("./node_modules/zustand/esm/middleware.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");const useAuthStore=(0,react.v)()((0,middleware.Zr)(((set,get)=>({isLoggedIn:!1,user:null,hasHydrated:!1,setHasHydrated:value=>set({hasHydrated:value}),login:user=>{set({isLoggedIn:!0,user})},refresh:token=>{const currentUser=get().user;if(currentUser){const updatedUser={...currentUser,accessToken:token.accessToken,expiresIn:token.expiresIn};set({isLoggedIn:!0,user:updatedUser})}else console.warn("User not found. Cannot refresh token.")},logout:()=>{set({isLoggedIn:!1,user:null})}})),{name:"auth-storage",onRehydrateStorage:()=>state=>{state&&state.setHasHydrated(!0)},skipHydration:!1}));var auth_console=__webpack_require__("./node_modules/console-browserify/index.js");const useLoadingStore=(0,react.v)((set=>({isLoading:!1,loadingType:"none",setLoading:(isLoading,type="fullscreen")=>set({isLoading,loadingType:isLoading?type:"none"})})));var axios=__webpack_require__("./node_modules/axios/lib/axios.js"),process=__webpack_require__("./node_modules/process/browser.js"),axiosInstance_console=__webpack_require__("./node_modules/console-browserify/index.js");const backendUrl=process.env.NEXT_PUBLIC_API_BASE_URL,axiosInstance_axiosInstance=axios.A.create({baseURL:backendUrl,headers:{"Content-Type":"application/json"},withCredentials:!0});axiosInstance_axiosInstance.interceptors.request.use((config=>{const{user}=useAuthStore.getState();var _config_loadingType;(null==user?void 0:user.accessToken)&&(config.headers.Authorization=`Bearer ${user.accessToken}`);const type=null!==(_config_loadingType=config.loadingType)&&void 0!==_config_loadingType?_config_loadingType:"fullscreen";return useLoadingStore.getState().setLoading(!0,type),config}),(error=>(useLoadingStore.getState().setLoading(!1),Promise.reject(error)))),axiosInstance_axiosInstance.interceptors.response.use((response=>(useLoadingStore.getState().setLoading(!1),response)),(async error=>{useLoadingStore.getState().setLoading(!1);const originalRequest=error.config;if(originalRequest.url.includes("/auth/token/reissue"))return axiosInstance_console.warn("🛑 토큰 재발급 요청은 인터셉터에서 무시합니다."),Promise.reject(error);if(!useAuthStore.getState().isLoggedIn)return axiosInstance_console.warn("🔒 로그아웃 상태입니다. 요청 중단"),Promise.reject(error);if(401===error.response.status&&!originalRequest._retry){originalRequest._retry=!0,axiosInstance_console.warn("🔄 401 발생, 토큰 재발급 시도 중...");const newAccessToken=await(async()=>{try{const response=await api_axiosInstance.post("/auth/token/reissue");if(200===response.status){const{accessToken,userName,expiresIn,hasSubmittedExperience}=response.data;return useAuthStore.getState().refresh({accessToken,expiresIn}),auth_console.log("🔄 토큰 재발급 성공"),response.data}return auth_console.error("❌ 토큰 재발급 실패"),useAuthStore.getState().logout(),null}catch(error){return auth_console.error("토큰 재발급 중 오류 발생:",error),useAuthStore.getState().logout(),null}})();if(newAccessToken)return axiosInstance_console.log("✅ 토큰 재발급 성공, 요청 재시도"),originalRequest.headers.Authorization=`Bearer ${newAccessToken}`,axiosInstance_axiosInstance(originalRequest);axiosInstance_console.error("❌ 토큰 재발급 실패, 로그아웃 처리"),useAuthStore.getState().logout(),window.location.href="/main"}return Promise.reject(error)}));const api_axiosInstance=axiosInstance_axiosInstance},"./src/store/useRecommendTravelStore.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PZ:()=>usePublicTravelDetailStore,w1:()=>useRecommendTravelDetailStore});var axiosInstance=__webpack_require__("./src/lib/api/axiosInstance.ts");var react=__webpack_require__("./node_modules/zustand/esm/react.mjs"),middleware=__webpack_require__("./node_modules/zustand/esm/middleware.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");(0,react.v)()((0,middleware.Zr)((set=>({inputs:null,setInputs:inputs=>set({inputs}),clearInputs:()=>set({inputs:null})})),{name:"user-input"})),(0,react.v)()((0,middleware.Zr)((set=>({items:[],setItems:items=>set({items}),clearItems:()=>set({items:[]})})),{name:"recommend-list"}));const calculateScheduleTimes=async places=>places?await Promise.all(places.map((async(currentPlace,index)=>{const nextPlace=places[index+1];if(!nextPlace)return currentPlace;const updatedPlace={...currentPlace,travelWalkTime:"정보 없음",travelCarTime:"정보 없음",travelDistance:"정보 없음"};if(currentPlace.latitude&&currentPlace.longitude&&nextPlace.latitude&&nextPlace.longitude)try{const{walkingDuration,drivingDuration,distance}=await(async data=>{try{return(await axiosInstance.A.get("/route/time",{params:{startLatitude:data.startLatitude,startLongitude:data.startLongitude,endLatitude:data.endLatitude,endLongitude:data.endLongitude},loadingType:"none"})).data}catch(error){var _error_response;throw new Error((null===(_error_response=error.response)||void 0===_error_response?void 0:_error_response.data.message)||"소요 시간 정보를 불러오지 못했습니다.")}})({startLatitude:currentPlace.latitude,startLongitude:currentPlace.longitude,endLatitude:nextPlace.latitude,endLongitude:nextPlace.longitude});walkingDuration&&(updatedPlace.travelWalkTime=`${walkingDuration}분`),drivingDuration&&(updatedPlace.travelCarTime=`${drivingDuration}분`),updatedPlace.travelDistance=""+(distance?distance+"m":"거리 정보 추후 업데이트")}catch(error){console.error("경로 계산 실패:",error)}return updatedPlace}))):[],updateDailySchedules=async schedules=>await Promise.all(schedules.map((async schedule=>{const updatedAttractions=await calculateScheduleTimes(schedule.attractions);return{...schedule,attractions:updatedAttractions}}))),useRecommendTravelDetailStore=(0,react.v)()((0,middleware.Zr)(((set,get)=>({itinerary:null,setItinerary:async itinerary=>{if(null==itinerary?void 0:itinerary.dailyScheduleDtos){const schedulesWithUUID=assignUUIDToSchedules(itinerary.dailyScheduleDtos),updatedSchedules=await updateDailySchedules(schedulesWithUUID);set({itinerary:{...itinerary,dailyScheduleDtos:updatedSchedules}})}else set({itinerary})},updateItinerary:async updatedItinerary=>{const itinerary=get().itinerary;if(itinerary){const updatedSchedules=await updateDailySchedules(updatedItinerary);set({itinerary:{...itinerary,dailyScheduleDtos:updatedSchedules}})}},updateAttraction:async(oldAttraction,newAttraction)=>{const itinerary=get().itinerary;if(itinerary){const updatedSchedules=await Promise.all(itinerary.dailyScheduleDtos.map((async schedule=>{if(!schedule.attractions.some((attraction=>attraction.id===oldAttraction.id)))return schedule;const updatedAttractions=await calculateScheduleTimes(schedule.attractions.map((attraction=>attraction.id===oldAttraction.id?{...newAttraction,id:oldAttraction.id,previousData:JSON.parse(JSON.stringify(attraction))}:attraction)));return{...schedule,attractions:updatedAttractions}})));set({itinerary:{...itinerary,dailyScheduleDtos:updatedSchedules}})}},clearItinerary:()=>set({itinerary:null})})),{name:"recommend-detail"})),usePublicTravelDetailStore=(0,react.v)()((0,middleware.Zr)((set=>({itinerary:null,setItinerary:async value=>{if(null==value?void 0:value.dailyScheduleDtos){const schedulesWithUUID=assignUUIDToSchedules(value.dailyScheduleDtos),updatedSchedules=await updateDailySchedules(schedulesWithUUID);set({itinerary:{...value,dailyScheduleDtos:updatedSchedules}})}else set({itinerary:value})},clearItinerary:()=>set({itinerary:null})})),{name:"public-travel-detail"})),assignUUIDToAttraction=attraction=>({...attraction,id:attraction.id&&"number"==typeof attraction.id?attraction.id:Date.now()+Math.floor(1e4*Math.random()),previousData:attraction.previousData?assignUUIDToAttraction(attraction.previousData):void 0}),assignUUIDToSchedules=schedules=>schedules.map((schedule=>{return{...schedule,attractions:(attractions=schedule.attractions,attractions.map(assignUUIDToAttraction))};var attractions}))},"./src/utils/imagePath.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dw:()=>getImagePath,vK:()=>COMMON_IMAGES});const basePath="/SWYP_FRONT";function getImagePath(imagePath){return imagePath.startsWith("http://")||imagePath.startsWith("https://")?imagePath:imagePath.startsWith("/")&&basePath?`${basePath}${imagePath}`:imagePath}const COMMON_IMAGES=Object.fromEntries(Object.entries({DEFAULT_IMG:"/default_img.png",KAKAO_ICON:"/icons/kakao.png",KAKAO_ROUND:"/icons/kakao_round.png",REFRESH:"/icons/Refresh.svg",STAR:"/icons/Star.svg",LOCATION:"/icons/Location.svg",CLOCK:"/icons/Clock.svg",CHEVRON_LEFT:"/icons/Chevron Left Bold.svg",CHEVRON_DOWN:"/icons/Chevron Down.svg",CHEVRON_RIGHT:"/icons/Chevron Right.svg",DOT_LINE:"/icons/DotLine.svg",DOT:"/icons/Dot.svg",WALK:"/icons/Walk.svg",CAR:"/icons/Car.svg",AI:"/icons/AI.svg",ARROW_RIGHT_WHITE:"/icons/Arrow Right White.svg",CLOSE:"/icons/Close.svg",ALONE:"/icons/Alone.png",COUPLE:"/icons/Couple.png",FAMILY:"/icons/Family.png",FRIEND:"/icons/Friend.png",AVATAR:"/icons/Avatar.svg",MAIN_LOGO:"/icons/MainLogo.webp",LINK:"/icons/Link.svg",HANDLE_DESKTOP:"/icons/Handle Desktop.svg",RE_REQUEST:"/icons/Re_Request.svg",RESET:"/icons/Reset.svg",PDF_DOWNLOAD:"/icons/Pdf Download.svg",STAR_FILLED:"/icons/Star_Filled.svg",STAR_NORMAL:"/icons/Star_Normal.svg",CHECK_UNCHECKED:"/icons/Check_Unchecked.svg",CHECK_CHECKED:"/icons/Check_Checked.svg",SUCCESS:"/icons/Success.svg",FAIL:"/icons/Fail.svg",ARROW:"/icons/Arrow.svg",URL:"/icons/URL.svg",SHARE:"/icons/Share.svg",INFO:"/icons/Inform.svg"}).map((([key,path])=>[key,getImagePath(path)])))}}]);